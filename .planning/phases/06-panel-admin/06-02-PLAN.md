# Plan 06-02: Gestión de Categorías

## Goal
Admin puede crear, editar, eliminar categorías y asignarlas a productos.

## Prerequisites
- Plan 06-01 complete (products CRUD working)
- ProductForm exists with category multi-select (from 06-01)

## Tasks

### API: Categories CRUD Controller
1. Expand `categories.controller.js` with:
   - `createCategory(name)` - creates category
   - `updateCategory(id, name)` - renames category
   - `deleteCategory(id)` - deletes category (cascade removes product associations)
   - `getCategoryWithProducts(id)` - gets category with product count

2. Add routes to `admin.routes.js`:
   - POST /admin/categories
   - PUT /admin/categories/:id
   - DELETE /admin/categories/:id
   - GET /admin/categories (already exists in public routes)

### Admin Frontend: API Client
3. Create `src/api/categories.js`:
   - getCategories(), createCategory(), updateCategory(), deleteCategory()

### Admin Frontend: Categories Page
4. Create `src/pages/CategoriesPage.jsx`:
   - List of categories with product count
   - Inline edit (click to rename)
   - Delete button with confirmation (warns if has products)
   - "Nueva Categoría" form at top

### Admin Frontend: Navigation
5. Add Categories tab to navigation in main.jsx

## Files to Create
- `apps/admin/src/api/categories.js`
- `apps/admin/src/pages/CategoriesPage.jsx`

## Files to Modify
- `apps/api/src/controllers/categories.controller.js` - add CRUD
- `apps/api/src/routes/admin.routes.js` - add category routes
- `apps/admin/src/main.jsx` - add navigation tab

## Verification
- [ ] GET /admin/categories returns categories with product count
- [ ] POST /admin/categories creates new category
- [ ] PUT /admin/categories/:id renames category
- [ ] DELETE /admin/categories/:id removes category
- [ ] UI shows categories list with counts
- [ ] Inline editing works
- [ ] Delete shows warning if category has products

## Estimated Duration
20-30 minutes

---
*Plan created: 2026-02-01*
